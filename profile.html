<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My Profile - SkillToBill</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/components/navbar.css">
  <link rel="stylesheet" href="css/components/footer.css">
  <link rel="stylesheet" href="css/profile.css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>

<body>
  <nav id="navbar"></nav>

  <main class="profile-main">
    <div class="container">
      <!-- Auth Check Message -->
      <div id="authMessage" class="auth-message">
        <p>Please <a href="signup-login.html">log in</a> to access your profile.</p>
      </div>

      <!-- Profile Content (Hidden until user logs in) -->
      <div id="profileContent" class="profile-content" style="display: none;">
        
      <!-- Profile Header Card -->
      <div class="profile-header-card">
        <div class="profile-header-top">
          <div class="profile-avatar-wrapper">
            <div class="profile-avatar" id="profileAvatar"></div>
            <button class="avatar-edit-btn" id="changeAvatarBtn" title="Change Avatar">
              <span class="material-icons">camera_alt</span>
            </button>
          </div>
          
          <div class="profile-header-info">
            <h1 id="profileName">User Name</h1>
            <div class="profile-badges">
              <span class="role-badge" id="roleBadge"></span>
              <span class="verification-badge">
                <span class="material-icons">verified</span> Verified
              </span>
            </div>
            <div class="profile-rating">
              <span class="stars">★★★★★</span>
              <span class="rating-text" id="profileRating">4.8 rating</span>
              <span class="review-count" id="reviewCount">(0 reviews)</span>
            </div>
            <p class="profile-bio" id="profileBio">Professional service provider on SkillToBill</p>
          </div>
        </div>

        <div class="profile-header-actions">
          <button class="btn btn-primary" id="editProfileBtn">Edit Profile</button>
          <button class="btn btn-secondary" id="shareProfileBtn">Share Profile</button>
          <button class="btn btn-danger" id="logoutBtn" style="margin-left: 8px;">Logout</button>
        </div>
      </div>

      <!-- Skills & Services Section -->
      <div class="two-column-section">
        <!-- Skills Card -->
        <section class="card skills-card">
          <div class="card-header">
            <h3>Skills & Expertise</h3>
            <button class="icon-btn edit-skills" id="editSkillsBtn" title="Edit skills">
              <span class="material-icons">edit</span>
            </button>
          </div>
          <div class="skills-container" id="skillsContainer">
            <div class="skill-tag">Web Development</div>
            <div class="skill-tag">UI Design</div>
            <div class="skill-tag">React</div>
            <div class="skill-tag">JavaScript</div>
          </div>
          <button class="add-skill-btn" style="display: none;">+ Add Skill</button>
        </section>

        <!-- Location & Contact Card -->
        <section class="card contact-card">
          <div class="card-header">
            <h3>Contact Information</h3>
            <button class="icon-btn" id="editContactBtn" title="Edit contact">
              <span class="material-icons">edit</span>
            </button>
          </div>
          <div class="contact-item">
            <span class="material-icons">location_on</span>
            <div>
              <label>Location</label>
              <p id="userLocation">India</p>
            </div>
          </div>
          <div class="contact-item">
            <span class="material-icons">email</span>
            <div>
              <label>Email</label>
              <p id="userEmail">user@skillToBill.com</p>
            </div>
          </div>
        </section>
      </div>

        <!-- Seller Section (Role-Based) -->
        <section id="sellerSection" class="seller-section" style="display: none;">
          <div class="section-header">
            <h2>My Services</h2>
            <button class="btn btn-primary" id="listNewServiceBtn">
              <span class="material-icons">add</span> List New Service
            </button>
          </div>

          <!-- Seller Stats Grid -->
          <div class="stats-grid">
            <div class="stat-card">
              <div class="stat-icon">
                <span class="material-icons">shopping_bag</span>
              </div>
              <div class="stat-info">
                <div class="stat-number" id="servicesCount">0</div>
                <div class="stat-label">Services</div>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon">
                <span class="material-icons">star</span>
              </div>
              <div class="stat-info">
                <div class="stat-number" id="ratingCount">4.8</div>
                <div class="stat-label">Rating</div>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon">
                <span class="material-icons">done_all</span>
              </div>
              <div class="stat-info">
                <div class="stat-number" id="completedCount">0</div>
                <div class="stat-label">Completed</div>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon">
                <span class="material-icons">trending_up</span>
              </div>
              <div class="stat-info">
                <div class="stat-number">₹0</div>
                <div class="stat-label">Total Earnings</div>
              </div>
            </div>
          </div>

          <!-- Listed Services Grid -->
          <div id="servicesGrid" class="services-grid">
            <!-- Services will be populated by JS -->
          </div>

          <div id="noServices" class="empty-state">
            <span class="material-icons empty-icon">shopping_bag</span>
            <p>You haven't listed any services yet.</p>
            <button class="btn btn-primary" id="listNewServiceBtn2">+ Create Your First Service</button>
          </div>
        </section>

        <!-- Buyer Section (Role-Based) -->
        <section id="buyerSection" class="buyer-section" style="display: none;">
          <div class="section-header">
            <h2>My Purchases</h2>
          </div>

          <!-- Buyer Stats -->
          <div class="stats-grid">
            <div class="stat-card">
              <div class="stat-icon">
                <span class="material-icons">shopping_cart</span>
              </div>
              <div class="stat-info">
                <div class="stat-number" id="purchaseCount">0</div>
                <div class="stat-label">Purchases</div>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon">
                <span class="material-icons">pending_actions</span>
              </div>
              <div class="stat-info">
                <div class="stat-number" id="pendingCount">0</div>
                <div class="stat-label">In Progress</div>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon">
                <span class="material-icons">done_all</span>
              </div>
              <div class="stat-info">
                <div class="stat-number" id="completedBuyerCount">0</div>
                <div class="stat-label">Completed</div>
              </div>
            </div>
          </div>

          <!-- Buyer Activity -->
          <div id="buyerOrders" class="orders-list">
            <!-- Orders will be populated by JS -->
          </div>

          <div id="noOrders" class="empty-state">
            <span class="material-icons empty-icon">shopping_cart</span>
            <p>You haven't made any purchases yet.</p>
            <a href="marketplace.html" class="btn btn-primary">Browse Services</a>
          </div>
        </section>

        <!-- About/Bio Section -->
        <section class="card about-section">
          <div class="card-header">
            <h3>About Me</h3>
            <button class="icon-btn" id="editBioBtn" title="Edit bio">
              <span class="material-icons">edit</span>
            </button>
          </div>
          <p id="userBio" class="bio-text">Professional service provider on SkillToBill marketplace. Click edit to share your story with clients.</p>
        </section>

        <!-- Trust Section -->
        <section class="card trust-section">
          <h3>Trust & Verification</h3>
          <div class="trust-grid">
            <div class="trust-item">
              <span class="material-icons trust-icon">verified_user</span>
              <div>
                <h4>Identity Verified</h4>
                <p>Your identity has been verified</p>
              </div>
            </div>
            <div class="trust-item">
              <span class="material-icons trust-icon">security</span>
              <div>
                <h4>Secure Account</h4>
                <p>Your account is protected</p>
              </div>
            </div>
            <div class="trust-item">
              <span class="material-icons trust-icon">shield</span>
              <div>
                <h4>Payment Protected</h4>
                <p>Secure payment guarantee</p>
              </div>
            </div>
          </div>
        </section>
      </div>
    </div>
  </main>

  <!-- List Service Modal -->
  <div id="serviceModal" class="modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h2>List a New Service</h2>
        <button class="modal-close" id="modalClose">&times;</button>
      </div>

      <form id="serviceForm" class="service-form">
        <div class="form-group">
          <label for="serviceTitle">Service Title *</label>
          <input type="text" id="serviceTitle" placeholder="What service do you offer?" required>
        </div>

        <div class="form-group">
          <label for="serviceCategory">Category *</label>
          <select id="serviceCategory" required>
            <option value="">Select category</option>
            <option value="web-dev">Web Development</option>
            <option value="graphics">Graphic Design</option>
            <option value="content">Content Writing</option>
            <option value="video">Video Editing</option>
            <option value="social">Social Media</option>
            <option value="seo">SEO</option>
            <option value="music">Music Production</option>
            <option value="animation">Animation</option>
            <option value="consulting">Consulting</option>
            <option value="tutoring">Tutoring</option>
            <option value="translation">Translation</option>
            <option value="voiceover">Voice Over</option>
            <option value="photography">Photography</option>
            <option value="illustration">Illustration</option>
            <option value="branding">Branding</option>
            <option value="marketing">Marketing</option>
            <option value="other">Other</option>
          </select>
        </div>

        <div class="form-group">
          <label for="serviceDescription">Description *</label>
          <textarea id="serviceDescription" placeholder="Describe what you offer, how it works, and what the client will receive" required rows="4"></textarea>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="servicePrice">Price (₹) *</label>
            <input type="number" id="servicePrice" placeholder="0" min="0" required>
          </div>
          <div class="form-group">
            <label for="serviceDelivery">Delivery (days) *</label>
            <input type="number" id="serviceDelivery" placeholder="Days" min="1" required>
          </div>
        </div>

        <div class="form-group">
          <label for="serviceImage">Service Image URL</label>
          <input type="url" id="serviceImage" placeholder="https://example.com/image.jpg">
        </div>

        <div class="form-actions">
          <button type="button" class="btn btn-secondary" id="modalCancel">Cancel</button>
          <button type="submit" class="btn btn-primary">List Service</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Edit Profile Modal -->
  <div id="editProfileModal" class="modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Edit Profile</h2>
        <button class="modal-close" id="editModalClose">&times;</button>
      </div>

      <form id="editProfileForm" class="edit-profile-form">
        <div class="form-group">
          <label for="editAvatar">Profile Image</label>
          <input type="url" id="editAvatar" placeholder="https://example.com/avatar.jpg">
        </div>

        <div class="form-group">
          <label for="editName">Full Name *</label>
          <input type="text" id="editName" placeholder="Your full name" required>
          <span class="form-error" id="editNameError"></span>
        </div>

        <div class="form-group">
          <label for="editBio">Bio</label>
          <textarea id="editBio" placeholder="Tell clients about yourself..." rows="4"></textarea>
        </div>

        <div class="form-group">
          <label for="editSkills">Skills (comma-separated)</label>
          <input type="text" id="editSkills" placeholder="e.g. Web Development, UI Design, React">
        </div>

        <div class="form-group">
          <label for="editLocation">Location</label>
          <input type="text" id="editLocation" placeholder="Your location">
        </div>

        <div class="form-group">
          <label for="editEmail">Email *</label>
          <input type="email" id="editEmail" placeholder="your@email.com" required>
          <span class="form-error" id="editEmailError"></span>
        </div>

        <div class="form-actions">
          <button type="button" class="btn btn-secondary" id="editModalCancel">Cancel</button>
          <button type="submit" class="btn btn-primary">Save Profile</button>
        </div>
      </form>
    </div>
  </div>

  <div id="successMessage" class="message message-success" style="display: none;">
    <span class="material-icons">check_circle</span>
    <p id="successText">Profile updated successfully!</p>
  </div>

  <div id="errorMessage" class="message message-error" style="display: none;">
    <span class="material-icons">error_circle</span>
    <p id="errorText">An error occurred. Please try again.</p>
  </div>

  <footer id="footer"></footer>

  <script src="js/main.js"></script>
  <script src="js/profile.js"></script>
</body>
</html>
